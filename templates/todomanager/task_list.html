{% extends "base.html" %}

{% block content %}
  <h1>
    TODO list
    <a style="margin-top: 10px " href="{% url 'todomanager:task_create' %}" class="btn btn-primary float-right">
      Create
    </a>
  </h1>
  <br>
  {% if task_list %}
    {% for task in task_list %}
      <h3>{{ task.content }}</h3>

      <h3>{{ task.name }}
      {% if task.is_completed %}
        <span style="color:green">Completed</span>
        <a href="{% url 'todomanager:task_done' pk=task.id %}" class="btn btn-secondary float-right">
          Undo
        </a>
      {% else %}
        <span style="color:red">Undone</span>
        <a href="{% url 'todomanager:task_done' pk=task.id %}" class="btn btn-success float-right">
          Complete
        </a>
      {% endif %}</h3>

      <a>Task created: {{ task.created }}</a>
      <br>
      <a>Deadline: {{ task.deadline }}</a>
      <p>Tags: {% for tag in task.tags.all %}{{ tag.name }} {% endfor %}
      <a href="{% url 'todomanager:task_edit'  pk=task.id %}">
        Update
      </a>
      <a href="{% url 'todomanager:task_delete'  pk=task.id %}">
         Delete
      </a>
      </p>
      <hr>
    {% endfor %}
  {% else %}
    <p>There are no tasks in the list.</p>
  {% endif %}
{% endblock %}
